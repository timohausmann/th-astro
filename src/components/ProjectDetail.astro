---
import type { Project } from "../types/projects";
import ProjectImageCard from "./ProjectImageCard.astro";
import ProjectDetailHeader from "./ProjectDetailHeader.astro";
import ProjectDetailContent from "./ProjectDetailContent.astro";

interface Props {
    project: Project;
}

const { project } = Astro.props;
---

<article class={`project ${project.layout}`}>
    {project.layout === 'wide' && (
        <ProjectDetailHeader project={project} />
        <ProjectImageCard project={project} />
        <ProjectDetailContent project={project} />
    )}
    {project.layout === 'tall' && (
        <ProjectImageCard project={project} />
        <div class="content">
            <ProjectDetailHeader project={project} />
            <ProjectDetailContent project={project} />
        </div>
    )}
</article>

<style>
    .project {
        margin: 0 auto;
    }

    .project.wide,
    .content {
        display: flex;
        flex-direction: column; 
        align-items: flex-start;
        gap: 2rem;
    }

    .project.wide {
        max-width: 800px;
    }

    .project.tall {
        display: flex;
        gap: 2rem;
        align-items: center;
    }

    .project :global(.header) {
        width: 100%;
    }

    .project :global(.href-mobile) {
        display: block !important;
    }

    .project.tall :global(.card) {
        flex-grow: 1;
        flex-shrink: 0;
    }

    .project.tall :global(img) {
        height: 100%;
        max-height: 60vh;
        width: auto;
    }
   
</style>
